{% extends "base.html" %}
{% block content %}
<h1>Поиск фильмов</h1>

<form method="POST">
    <label for="title">Название фильма:</label>
    <input type="text" id="title" name="title" value="{{ title }}"><br>

    <label for="genre">Жанр:</label>
    <input type="text" id="genre" name="genre" value="{{ genre }}"><br>

    <label for="year">Год:</label>
    <input type="number" id="year" name="year" value="{{ year }}"><br>

    <label for="rating">Минимальный рейтинг (0-10):</label>
    <input type="number" id="rating" name="rating" min="0" max="10" step="0.1" value="{{ rating }}"><br>

    <label for="description">Поиск по описанию:</label>
    <input type="text" id="description" name="description" value="{{ description }}"><br>

    <label for="language">Язык:</label>
    <input type="text" id="language" name="language" value="{{ language }}"><br>

    <label for="sort_by">Сортировать по:</label>
    <select id="sort_by" name="sort_by">
        <option value="title" {% if sort_by == 'title' %}selected{% endif %}>Названию</option>
        <option value="year" {% if sort_by == 'year' %}selected{% endif %}>Году</option>
        <option value="rating" {% if sort_by == 'rating' %}selected{% endif %}>Рейтингу</option>
    </select>

    <button type="submit">Поиск</button>
</form>

<h2>Результаты поиска:</h2>
<ul>
    {% for movie in movies %}
    <li>
        <strong>{{ movie.title }}</strong> ({{ movie.year }}) - {{ movie.genre }}<br>
        Рейтинг: {{ movie.rating }}<br>
        <p>{{ movie.description }}</p>
        <a href="/movie/{{ movie.id }}">Подробнее</a>
    </li>
    {% endfor %}
</ul>
{% endblock %}
